# Домашнее задание к занятию "Внесение изменений в конфигурацию на поддержке"

## Цель задания

1. Научиться выполнять обновление доработанных конфигураций
2. На практике научиться обновлять доработанные конфигурации. Сравнить обновление конфигурации доработанной расширением и конфигурации с изменениями непосредственно в коде.

Данная практика научит вас выполнять обновления измененных конфигураций 1С с сохранением доработок. Эти навыки важны для реальной работы, когда Вы спровождаете хаказчика и выходит очередное обновление типовой конфигурации.

## Чеклист готовности к домашнему заданию

- [ ] Установить учебную платформа версии 8.3.22 или больше.
- [ ] Просмотреть материал занятия "Механизм поддержки, обновление".
- [ ] Выполнены прошлые 2 домашние работы

## Инструкция к заданию

1. Решите описанные задачи в конфигураторе.
2. Протестируйте решение в пользовательском режиме.
3. Для первой задачи - отправьте в личном кабинете Нетологии Скриншот выбранной Вами внешней программы для трехстороннего сравнения
4. Для 2 и 3 задач - необходимо выслать файлы баз данных (.dt) с выполненным заданием (для каждой задачи свой файл).

## Задача 1 "Установка внешней программы для трехстороннего сравнения"

### Описание задачи
Для упрощения выполнения обновления Вам необходимо скачать и установить одну из программ для трехстороннего сравнения

### Требования к результату
Напишите название выбранной программы и приложите скриншот с окном сравнения модулей в выбранной программе (сделать скриншот будет можно при выполнении 3 задачи)

### Процесс выполнения
1. Перейдите по [ссылке](https://wonderland.v8.1c.ru/blog/razvitie-sravneniya-obedineniya-moduley/). Еще раз прочитайте информацию о трехстороннем сравнении.
2. Попробуйте установить разные программы и выберите наиболее удобную для себя
<details>
  <summary>Подсказка 1</summary>
  Наиболее популярными являются Kdiff3 и Perforce P4Merge. Вероятно, и Вам они могут приглянуться.
</details>
<details>
  <summary>Подсказка 2</summary>
  К сожалению, некоторые ссылки могут не открываться без VPN.
</details>
3. Установите программы и выберите наиболее удобную для себя (удобно будет выполнять этот пункт, когда перейдете к 3 задаче)
4. Сделайте скриншот.

## Задача 2 "Обновление конфигурации с расширением"

### Описание задачи
Нам необходимо выполнить обновление конфигурации, при этом сохранить работоспособность дописанного для нее расширения.

### Требования к результату
Конфигурация с новой версией, при этом должен работать как добавленный в расширении функционал, так и функционал из новой версии конфигурации

### Процесс выполнения
1. Сохраните результат прошлого домашнего задания в отдельный dt-файл
2. Разверните dt-файл с базой-результатом [1 задания этого модуля](homework-11-1.md)
3. Скачайте обновление для конфигурации [по ссылке](src/update.cfu)
4. Выполните обновление конфигурации
5. При необходимости, найдите проблемы в расширении и устраните их.
<details>
  <summary>Подсказка 1</summary>
  При выполнении обновления, так как конфигурация находится на полной поддержке, никаких дополнительных окон не появится, 1С просто сообщит о том что конфигурация обновлена
</details>
<details>
  <summary>Подсказка 2</summary>
  Запустите приложение в пользовательском режиме и проверьте, что тот функционал, который Вы дорабатывали, продолжает работать.
</details>
<details>
  <summary>Подсказка 3</summary>
  В справочнике Контрагенты появилась табличная часть "Приобретенная номенклатура", но это никак не пересекается с Вашими доработками (если Вы не добавляли на форму контрагентов отдельных команд и полей для работы с контактными лицами)
</details>
<details>
  <summary>Подсказка 4</summary>
  А вот при открытии формы документа "Заказ покупателя", можно увидеть предупреждение, что возник конфликт с расширением. Теперь, при изменении строки, применяется только скидка указанная в табличной части, но скидка указанная в шапке документа игнорируется. Надо доработать расширение так, чтобы скидки суммировались, но при этом не превышали 100%
</details>
<details>
  <summary>Подсказка 5</summary>
  Перенесите в блок "Удаление" новый код и доолните свой код в блоке Вставка так, чтобы читывался процент из табличной части
</details>
6. Убедитесь, что все работает корректно.
7. Выгрузите файл базы данных (.dt) и отправьте его на проверку

## Задача 3 "Обновление конфигурации с изменениями внесенными в конфигурацию непосредственно"

### Описание задачи
Нам необходимо выполнить обновление конфигурации, при этом сохранить работоспособность измененного программного кода.

### Требования к результату
Конфигурация с новой версией, при этом должен работать как доработанный функционал, так и функционал из новой версии конфигурации

### Процесс выполнения
1. Разверните dt-файл с базой-результатом [2 задания этого модуля](homework-11-2.md)
2. Используя тот же файл обновления, выполните обновление
3. В отличии от прошлой задачи, тут мы сразу увидим, какие объекты изменились. Обработайте изменения
<details>
  <summary>Подсказка 1</summary>
  Используйте режим "Показывать только дважды измененные свойства" чтобы не анализировать лишнее
</details>
<details>
  <summary>Подсказка 2</summary>
  Сделайте скриншот с программой трехстороннего сравнения
</details>
<details>
  <summary>Подсказка 3</summary>
  В форме документа поменялся программный код, убедитесь, что с добавленных Вами процедур сняты флажки (чтобы они не удалились)
  
  При этом на всех процедурах, которые добавлены в модуль флажки должны стоять
</details>
<details>
  <summary>Подсказка 5</summary>
  Некоторые процедуры, как-будто, не изменились. Однако, они были перенесены в новые области кода. Сохраните эти изменения.
</details>
<details>
  <summary>Подсказка 4</summary>
  Доработайте процедуру расчета строки
</details>
4. Убедитесь, что все работает корректно.
5. Выгрузите файл базы данных (.dt) и отправьте его на проверку

## Пример: [пример работы конфигурации после корректного обновления](examples/HW_11_3_example.md)

------

### Критерии оценки

1. Зачет - выполнены все задания, нет противоречий и нарушения логики. 
2. На доработку - задание выполнено частично или не выполнено, в логике выполнения заданий есть противоречия, существенные недостатки.

*Примерное время выполнения: 45-180 минут*

Все задачи обязательны к выполнению. Пожалуйста, присылайте на проверку все задачи сразу.

Любые вопросы по решению задач задавайте в чате учебной группы.

