# Домашнее задание к занятию "Разработка мобильного приложения"

## Цель задания

Изучить возможности и технологические особенности мобильной платформы фирмы 1С

## Чеклист готовности к домашнему заданию

- [ ] Подготовить информационную базу, полученную по итогу выполнения [домашнего задания к занятию 15-1](homework-15-1.md).
- [ ] Подготовить информационную базу, полученную по итогу выполнения [домашнего задания к занятию 12-3](../BSP/homework-12-3.md) или более позднего.

## Инструкция к заданию

1. Решите описанные задачи в конфигураторе.
2. Протестируйте решение в пользовательском режиме.
3. В личном кабинете Нетологии отправьте на проверку ссылку на файл dt с выгрузкой десктопной информационной базы и файл cf с конфигурацией мобильного приложения.

## Задание 1

Реализовать мобильное приложение для курьера, выполняющего доставку.

### Процесс выполнения
1. В мобильном приложении из [домашнего задания к занятию 15-1](homework-15-1.md) создать документ Доставка с реквизитами Контрагент, АдресДоставки, Комментарий и табличная часть Товары с колонками Номенклатура и Количество.
2. Опционально - реализуйте хранения Номенклатуры и Контрагентов в отдельных справочниках. Для упрощения можно хранить в документах в виде строк.
3. Добавьте в документ Доставка реквизит Фото, реализуйте возможность создания фото с помощью камеры мобильного устройства и вывод сделанного фото на форму.
 
*Результат задания:* 
Мобильное приложение позволяет создать документ Доставка и добавить в него Фото

## Задание 2

Выгрузка документов Доставка в мобильное приложение

### Процесс выполнения
1. В десктопном приложении на базе БСП полученную из [домашнего задания к занятию 12-3](../BSP/homework-12-3.md) или более позднего реализуйте план обмена для регистрации изменений документа Доставка с выключенной авторегистрацией. У плана обмена должен быть реквизит Пользователь. Реализуйте регистрацию документа Доставка на всех узлах плана обмена, у которых значение реквизита Пользователь заполнено и соответствует значению реквизита Ответственный документа.
2. Реализуйте HTTP или web сервис для обмена с мобильным приложением. Создайте роль для работы с сервисом и создайте пользователя с логином **Курьер**. Сервис должен:
    - При первом вызове инициализировать необходимые узлы планов обмена и выполнять первичную регистрацию объектов - Документов доставка, в которых реквизит Ответственный соответствует текущему пользователю;
    - В качестве ответа передавать сериализованные данные документов, зарегистрированных на узле плана обмена, соответствующих устройству.
3. Реализуйте на стороне мобильного приложения механизм синхронизации данных:
    - Создайте константы для хранения адреса подключения к базе, логина и пароля;
    - Создайте обработку с командой для выполнения синхронизации данных;
    - В рамках синхронизации данных выполните вызов сервиса, созданного на предыдущем шаге и создайте документы, которые получены из центральной базы.
4. Протестируйте обмен. В результате запуска обмена документа Доставка должны попадать в мобильное приложение.

*Результат задания:* 
Мобильное приложение может загружать из десктопного приложеня данные документов Доставка, предназначенные для конкретного пользователя

## Задание 3

Реализовать передачу фото из мобильного приложения в десктопное

### Процесс выполнения
1. В десктопном приложении реализовать возможность хранения Фото в документе Доставка. Вывести изображение на форму документа.
2. В мобильном приложении создать план обмена и реализовать регистрацию документов доставка при записи.
3. На стороне десктопного приложения доработать сервис для обмена с мобильным приложением методом по приему данных фотографии.
4. На стороне мобильного приложения доработать команду Синхронизации данных - после получения данных из десктопной информационной базы выгружать фотографии из зарегистрированных на узле плана обмена документов.
 
*Результат задания:* 
Фото из документов Доставка из мобильного приложения выгружается в десктопную информационную базу.

------

## Правила приема работы

В личном кабинете студента отправлена ссылку на файл dt с выгрузкой десктопной информационной базы и файл cf с конфигурацией мобильного приложения, которые соответствуют описанным функциональным требованиям.

------
## Критерии оценки

1. Зачет - выполнены все задания, в выполненных заданиях нет противоречий и нарушения логики. 
2. На доработку - задание выполнено частично или не выполнено, в логике выполнения заданий есть противоречия, существенные недостатки.

Все задачи обязательны к выполнению. Пожалуйста, присылайте на проверку все задачи сразу.

Любые вопросы по решению задач задавайте в чате учебной группы.

*Примерное время выполнения: до 240 минут*
